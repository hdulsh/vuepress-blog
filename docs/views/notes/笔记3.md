---
title: 笔记3
date: 2020-03-09
tags:
 - 
categories:
 - 
---

## call apply bind
```js
~function anonymous (proto){
    
    function call (context=window,...args){
        context === null ? context = window : null
        let type = typeof(context)
        if (type !== "object" && type !== "function" && type !== "symbol") {
            //=>基本类型值
            switch (type) {
                case 'number':
                    context = new Number(context);
                    break;
                case 'string':
                    context = new String(context);
                    break;
                case 'boolean':
                    context = new Boolean(context);
                    break;
            }
        }
        context.$fn = this
        let result = context.$fn(...args)
        delete context.$fn
        return result
    }

    function apply(context,args){
        context.fn = this
        let result = context.fn(...args)
        delete context.fn
        return result
    }


    function bind(context=window,...args){
        return (...amArgs) = >{
            this.call(context,...args.concat(amArgs))
        }

    }


    function bind(context){
        context = context || window
        var args = [].slice.call(arguements,1)
        var _this = this
        return function(){
            var amArgs = [].slice.call(arguements,0)
            _this.apply(context,args.concat(amArgs))
        }
    }

    proto.call = call
    proto.apply = apply
    proto.bind = bind
}(Function.prototype)
```

## new
```js
function new(Func,...args){
    let obj = Object.create(Func.prototype)
    let result = Func.call(obj,...args)
    if(typeof result === "object" && result !== null || typeof result === "function"){
        return result
    }
    return obj
}
```


## 原型继承
```js
function Parent(){
    ....
}
functon Child(){
    ....
}
Child.prototype = new Parent
Child.prototype.getY = function getY(){}
```

## call继承
```js
function Parent(){
    this.x = 100
}
functon Child(){
    Parent.call(this)
}
```

## 寄生组合
```js
function Parent(){
    this.x = 100
}
functon Child(){
    Parent.call(this)
}
Child.prototype = Object.create(Parent.prototype)
Child.prototype.constructor = Child
```

## instaceof
```js
function instanceof(left,right){
    let prototype = right.prototype
    let proto = L._proto
    while(true){
        if(proto === null) return false
        if(proto === prototype) return true
        proto = proto._proto_
    }
}
```
